{"ast":null,"code":"import _regeneratorRuntime from\"/Users/zeldyfriedman/Documents/React/Hack or Snooze React and TS/my-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/zeldyfriedman/Documents/React/Hack or Snooze React and TS/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useUser}from\"./UserContext\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faTrashAlt,faStar as faStarRegular}from\"@fortawesome/free-regular-svg-icons\";import{faStar as faStarSolid}from\"@fortawesome/free-solid-svg-icons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function UserStory(_ref){var story=_ref.story,isFavorite=_ref.isFavorite;var _useUser=useUser(),addOrDeleteFavorite=_useUser.addOrDeleteFavorite,deleteStory=_useUser.deleteStory;var url=new URL(story.url);var hostname=\"(\".concat(url.hostname,\")\");var handleStarClick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(story){var fetchMethod;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;console.log(\"star clicked\");fetchMethod=isFavorite?\"delete\":\"add\";_context.next=5;return addOrDeleteFavorite(fetchMethod,story.storyId);case 5:_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function handleStarClick(_x){return _ref2.apply(this,arguments);};}();var handleTrashClick=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(story){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;console.log(\"trash clicked\");_context2.next=4;return deleteStory(story.storyId);case 4:_context2.next=9;break;case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0);case 9:case\"end\":return _context2.stop();}},_callee2,null,[[0,6]]);}));return function handleTrashClick(_x2){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"li\",{className:story.storyId,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"trash-can\",onClick:function onClick(){return handleTrashClick(story);},children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTrashAlt})}),/*#__PURE__*/_jsx(\"span\",{className:\"star\",onClick:function onClick(){return handleStarClick(story);},children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:isFavorite?faStarSolid:faStarRegular})}),/*#__PURE__*/_jsx(\"a\",{className:\"story-link\",href:story.url,children:story.title}),/*#__PURE__*/_jsx(\"small\",{children:hostname}),/*#__PURE__*/_jsxs(\"small\",{className:\"story-author\",children:[\"by \",story.author]}),/*#__PURE__*/_jsxs(\"small\",{className:\"story-posted-by\",children:[\"posted by \",story.username]})]})});}","map":{"version":3,"names":["useUser","FontAwesomeIcon","faTrashAlt","faStar","faStarRegular","faStarSolid","jsx","_jsx","jsxs","_jsxs","UserStory","_ref","story","isFavorite","_useUser","addOrDeleteFavorite","deleteStory","url","URL","hostname","concat","handleStarClick","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","fetchMethod","wrap","_callee$","_context","prev","next","console","log","storyId","t0","error","stop","_x","apply","arguments","handleTrashClick","_ref3","_callee2","_callee2$","_context2","_x2","className","children","onClick","icon","href","title","author","username"],"sources":["/Users/zeldyfriedman/Documents/React/Hack or Snooze React and TS/my-app/src/UserStory.tsx"],"sourcesContent":["import { StoryObj, useUser } from \"./UserContext\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faTrashAlt,\n  faStar as faStarRegular,\n} from \"@fortawesome/free-regular-svg-icons\";\nimport { faStar as faStarSolid } from \"@fortawesome/free-solid-svg-icons\";\n\nexport default function UserStory({\n  story,\n  isFavorite,\n}: {\n  story: StoryObj;\n  isFavorite: boolean;\n}) {\n  const { addOrDeleteFavorite, deleteStory } = useUser();\n  const url = new URL(story.url);\n  const hostname = `(${url.hostname})`;\n\n  const handleStarClick = async (story: StoryObj) => {\n    try {\n      console.log(\"star clicked\");\n      const fetchMethod = isFavorite ? \"delete\" : \"add\";\n      await addOrDeleteFavorite(fetchMethod, story.storyId);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleTrashClick = async (story: StoryObj) => {\n    try {\n      console.log(\"trash clicked\");\n      await deleteStory(story.storyId);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return (\n    <li className={story.storyId}>\n      <div>\n        <span className=\"trash-can\" onClick={() => handleTrashClick(story)}>\n          <FontAwesomeIcon icon={faTrashAlt} />\n        </span>\n        <span className=\"star\" onClick={() => handleStarClick(story)}>\n          <FontAwesomeIcon icon={isFavorite ? faStarSolid : faStarRegular} />\n        </span>\n        <a className=\"story-link\" href={story.url}>{story.title}</a>\n        <small>{hostname}</small>\n        <small className=\"story-author\">by {story.author}</small>\n        <small className=\"story-posted-by\">posted by {story.username}</small>\n      </div>\n    </li>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}