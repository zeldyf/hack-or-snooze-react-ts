{"ast":null,"code":"import{useEffect}from\"react\";import{Routes,Route,useNavigate}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import Navbar from\"./Navbar\";import AccountForms from\"./AccountForms\";import fetchStories from\"../store/fetchStories\";import StoryList from\"./StoryList\";import StoryForm from\"./StoryForm\";import Favorites from\"./Favorites\";import MyStories from\"./MyStories\";import{autoLogin}from\"../store/fetchUser\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var isLoggedIn=function isLoggedIn(){return localStorage.length!==0;};function App(){var stories=useSelector(function(state){return state.stories.data;});var dispatch=useDispatch();var navigate=useNavigate();useEffect(function(){dispatch(autoLogin());console.log(\"reload\");navigate(\"/home\");dispatch(fetchStories());// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(Navbar,{loggedIn:isLoggedIn()}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/home\",element:/*#__PURE__*/_jsx(StoryList,{stories:stories,loggedIn:isLoggedIn()})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(AccountForms,{})}),/*#__PURE__*/_jsx(Route,{path:\"/submit\",element:/*#__PURE__*/_jsx(StoryForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"/favorites\",element:/*#__PURE__*/_jsx(Favorites,{})}),/*#__PURE__*/_jsx(Route,{path:\"/mystories\",element:/*#__PURE__*/_jsx(MyStories,{})})]})]});}export default App;","map":{"version":3,"names":["useEffect","Routes","Route","useNavigate","useDispatch","useSelector","Navbar","AccountForms","fetchStories","StoryList","StoryForm","Favorites","MyStories","autoLogin","jsx","_jsx","jsxs","_jsxs","isLoggedIn","localStorage","length","App","stories","state","data","dispatch","navigate","console","log","className","children","loggedIn","path","element"],"sources":["/Users/zeldyfriedman/Documents/Redux/hack-or-snooze-react-ts/src/components/App.tsx"],"sourcesContent":["import { useEffect } from \"react\";\nimport { Routes, Route, useNavigate } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Navbar from \"./Navbar\";\nimport AccountForms from \"./AccountForms\";\nimport fetchStories from \"../store/fetchStories\";\nimport StoryList from \"./StoryList\";\nimport StoryForm from \"./StoryForm\";\nimport Favorites from \"./Favorites\";\nimport MyStories from \"./MyStories\";\nimport { AppDispatch, RootState } from \"../store/types\";\nimport { autoLogin } from \"../store/fetchUser\";\n\nexport const isLoggedIn = () => localStorage.length !== 0;\n\nfunction App() {\n  const stories = useSelector((state: RootState) => state.stories.data);\n  const dispatch: AppDispatch = useDispatch();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    dispatch(autoLogin());\n    console.log(\"reload\");\n    navigate(\"/home\");\n    dispatch(fetchStories());\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div className=\"app\">\n      <Navbar loggedIn={isLoggedIn()} />\n      <Routes>\n        <Route\n          path=\"/home\"\n          element={<StoryList stories={stories} loggedIn={isLoggedIn()} />}\n        />\n        <Route path=\"/login\" element={<AccountForms />} />\n        <Route path=\"/submit\" element={<StoryForm />} />\n        <Route path=\"/favorites\" element={<Favorites />} />\n        <Route path=\"/mystories\" element={<MyStories />} />\n      </Routes>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,OAASC,MAAM,CAAEC,KAAK,CAAEC,WAAW,KAAQ,kBAAkB,CAC7D,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CACzC,MAAO,CAAAC,YAAY,KAAM,uBAAuB,CAChD,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,MAAO,CAAAC,SAAS,KAAM,aAAa,CAEnC,OAASC,SAAS,KAAQ,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE/C,MAAO,IAAM,CAAAC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,QAAS,CAAAC,YAAY,CAACC,MAAM,GAAK,CAAC,GAEzD,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,GAAM,CAAAC,OAAO,CAAGjB,WAAW,CAAC,SAACkB,KAAgB,QAAK,CAAAA,KAAK,CAACD,OAAO,CAACE,IAAI,GAAC,CACrE,GAAM,CAAAC,QAAqB,CAAGrB,WAAW,CAAC,CAAC,CAC3C,GAAM,CAAAsB,QAAQ,CAAGvB,WAAW,CAAC,CAAC,CAE9BH,SAAS,CAAC,UAAM,CACdyB,QAAQ,CAACZ,SAAS,CAAC,CAAC,CAAC,CACrBc,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC,CACrBF,QAAQ,CAAC,OAAO,CAAC,CACjBD,QAAQ,CAACjB,YAAY,CAAC,CAAC,CAAC,CACxB;AACF,CAAC,CAAE,EAAE,CAAC,CAEN,mBACES,KAAA,QAAKY,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBf,IAAA,CAACT,MAAM,EAACyB,QAAQ,CAAEb,UAAU,CAAC,CAAE,CAAE,CAAC,cAClCD,KAAA,CAAChB,MAAM,EAAA6B,QAAA,eACLf,IAAA,CAACb,KAAK,EACJ8B,IAAI,CAAC,OAAO,CACZC,OAAO,cAAElB,IAAA,CAACN,SAAS,EAACa,OAAO,CAAEA,OAAQ,CAACS,QAAQ,CAAEb,UAAU,CAAC,CAAE,CAAE,CAAE,CAClE,CAAC,cACFH,IAAA,CAACb,KAAK,EAAC8B,IAAI,CAAC,QAAQ,CAACC,OAAO,cAAElB,IAAA,CAACR,YAAY,GAAE,CAAE,CAAE,CAAC,cAClDQ,IAAA,CAACb,KAAK,EAAC8B,IAAI,CAAC,SAAS,CAACC,OAAO,cAAElB,IAAA,CAACL,SAAS,GAAE,CAAE,CAAE,CAAC,cAChDK,IAAA,CAACb,KAAK,EAAC8B,IAAI,CAAC,YAAY,CAACC,OAAO,cAAElB,IAAA,CAACJ,SAAS,GAAE,CAAE,CAAE,CAAC,cACnDI,IAAA,CAACb,KAAK,EAAC8B,IAAI,CAAC,YAAY,CAACC,OAAO,cAAElB,IAAA,CAACH,SAAS,GAAE,CAAE,CAAE,CAAC,EAC7C,CAAC,EACN,CAAC,CAEV,CAEA,cAAe,CAAAS,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}