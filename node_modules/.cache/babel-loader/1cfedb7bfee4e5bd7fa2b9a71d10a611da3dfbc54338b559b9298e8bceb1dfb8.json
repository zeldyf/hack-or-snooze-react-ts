{"ast":null,"code":"import _regeneratorRuntime from\"/Users/zeldyfriedman/Documents/React/Hack or Snooze React and TS/my-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/zeldyfriedman/Documents/React/Hack or Snooze React and TS/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/zeldyfriedman/Documents/React/Hack or Snooze React and TS/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{Routes,Route,useNavigate}from\"react-router-dom\";import Navbar from\"./Navbar\";import AccountForms from\"./AccountForms\";import fetchStories from\"./fetchStories\";import StoryList from\"./StoryList\";import StoryForm from\"./StoryForm\";import Favorites from\"./Favorites\";import{useUser}from\"./UserContext\";import MyStories from\"./MyStories\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),stories=_useState2[0],setStories=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useUser=useUser(),isLoggedIn=_useUser.isLoggedIn;var navigate=useNavigate();useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var storiesData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetchStories();case 3:storiesData=_context.sent;setStories(storiesData);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(\"Error fetching stories.\",_context.t0);case 10:_context.prev=10;setLoading(false);return _context.finish(10);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,7,10,13]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);useEffect(function(){navigate(\"/home\");// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(Navbar,{loggedIn:isLoggedIn}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/home\",element:/*#__PURE__*/_jsx(StoryList,{stories:stories})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(AccountForms,{})}),/*#__PURE__*/_jsx(Route,{path:\"/submit\",element:/*#__PURE__*/_jsx(StoryForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"/favorites\",element:/*#__PURE__*/_jsx(Favorites,{})}),/*#__PURE__*/_jsx(Route,{path:\"/mystories\",element:/*#__PURE__*/_jsx(MyStories,{})})]})]});}export default App;","map":{"version":3,"names":["useEffect","useState","Routes","Route","useNavigate","Navbar","AccountForms","fetchStories","StoryList","StoryForm","Favorites","useUser","MyStories","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","stories","setStories","_useState3","_useState4","loading","setLoading","_useUser","isLoggedIn","navigate","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","storiesData","wrap","_callee$","_context","prev","next","sent","t0","console","error","finish","stop","apply","arguments","className","children","loggedIn","path","element"],"sources":["/Users/zeldyfriedman/Documents/React/Hack or Snooze React and TS/my-app/src/App.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Routes, Route, useNavigate } from \"react-router-dom\";\nimport Navbar from \"./Navbar\";\nimport AccountForms from \"./AccountForms\";\nimport fetchStories from \"./fetchStories\";\nimport StoryList from \"./StoryList\";\nimport StoryForm from \"./StoryForm\";\nimport Favorites from \"./Favorites\";\nimport { StoryObj, useUser } from \"./UserContext\";\nimport MyStories from \"./MyStories\";\n\nfunction App() {\n  const [stories, setStories] = useState<StoryObj[]>([]);\n  const [loading, setLoading] = useState(true);\n  const { isLoggedIn } = useUser();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const storiesData: StoryObj[] = await fetchStories();\n        setStories(storiesData);\n      } catch (error) {\n        console.error(\"Error fetching stories.\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    navigate(\"/home\");\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div className=\"app\">\n      <Navbar loggedIn={isLoggedIn} />\n      <Routes>\n        <Route path=\"/home\" element={<StoryList stories={stories} />} />\n        <Route path=\"/login\" element={<AccountForms />} />\n        <Route path=\"/submit\" element={<StoryForm />} />\n        <Route path=\"/favorites\" element={<Favorites />} />\n        <Route path=\"/mystories\" element={<MyStories />} />\n      </Routes>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}