{"ast":null,"code":"import _regeneratorRuntime from\"/Users/zeldyfriedman/Documents/React/Hack or Snooze React and TS/my-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/zeldyfriedman/Documents/React/Hack or Snooze React and TS/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useUser}from\"./UserContext\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faStar as faStarRegular}from\"@fortawesome/free-regular-svg-icons\";import{faStar as faStarSolid}from\"@fortawesome/free-solid-svg-icons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Story(_ref){var story=_ref.story,isFavorite=_ref.isFavorite;var url=new URL(story.url);var hostname=\"(\".concat(url.hostname,\")\");var _useUser=useUser(),isLoggedIn=_useUser.isLoggedIn,addOrDeleteFavorite=_useUser.addOrDeleteFavorite;var handleStarClick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(story){var fetchMethod;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;fetchMethod=isFavorite?\"delete\":\"add\";_context.next=4;return addOrDeleteFavorite(fetchMethod,story.storyId);case 4:_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 9:case\"end\":return _context.stop();}},_callee,null,[[0,6]]);}));return function handleStarClick(_x){return _ref2.apply(this,arguments);};}();if(isLoggedIn){return/*#__PURE__*/_jsx(\"li\",{id:story.storyId,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"star\",onClick:function onClick(){return handleStarClick(story);},children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:isFavorite?faStarSolid:faStarRegular})}),/*#__PURE__*/_jsx(\"a\",{className:\"story-link\",href:story.url,children:story.title}),/*#__PURE__*/_jsx(\"small\",{children:hostname}),/*#__PURE__*/_jsxs(\"small\",{className:\"story-author\",children:[\"by \",story.author]}),/*#__PURE__*/_jsxs(\"small\",{className:\"story-posted-by\",children:[\"posted by \",story.username]})]})});}else{return/*#__PURE__*/_jsxs(\"li\",{id:story.storyId,children:[/*#__PURE__*/_jsx(\"a\",{className:\"story-link\",href:story.url,children:story.title}),/*#__PURE__*/_jsx(\"small\",{children:hostname}),/*#__PURE__*/_jsxs(\"small\",{className:\"story-author\",children:[\"by \",story.author]}),/*#__PURE__*/_jsxs(\"small\",{className:\"story-posted-by\",children:[\"posted by \",story.username]})]});}}","map":{"version":3,"names":["useUser","FontAwesomeIcon","faStar","faStarRegular","faStarSolid","jsx","_jsx","jsxs","_jsxs","Story","_ref","story","isFavorite","url","URL","hostname","concat","_useUser","isLoggedIn","addOrDeleteFavorite","handleStarClick","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","fetchMethod","wrap","_callee$","_context","prev","next","storyId","t0","console","error","stop","_x","apply","arguments","id","children","className","onClick","icon","href","title","author","username"],"sources":["/Users/zeldyfriedman/Documents/React/Hack or Snooze React and TS/my-app/src/Story.tsx"],"sourcesContent":["import { StoryObj, useUser } from \"./UserContext\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faStar as faStarRegular } from \"@fortawesome/free-regular-svg-icons\";\nimport { faStar as faStarSolid } from \"@fortawesome/free-solid-svg-icons\";\n\nexport default function Story({\n  story,\n  isFavorite,\n}: {\n  story: StoryObj;\n  isFavorite: boolean;\n}) {\n  const url = new URL(story.url);\n  const hostname = `(${url.hostname})`;\n  const { isLoggedIn, addOrDeleteFavorite } = useUser();\n\n  const handleStarClick = async (story: StoryObj) => {\n    try {\n      const fetchMethod = isFavorite ? \"delete\" : \"add\";\n      await addOrDeleteFavorite(fetchMethod, story.storyId);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  if (isLoggedIn) {\n    return (\n      <li id={story.storyId}>\n        <div>\n          <span className=\"star\" onClick={() => handleStarClick(story)}>\n            <FontAwesomeIcon icon={isFavorite ? faStarSolid : faStarRegular} />\n          </span>\n          <a className=\"story-link\" href={story.url}>\n            {story.title}\n          </a>\n          <small>{hostname}</small>\n          <small className=\"story-author\">by {story.author}</small>\n          <small className=\"story-posted-by\">posted by {story.username}</small>\n        </div>\n      </li>\n    );\n  } else {\n    return (\n      <li id={story.storyId}>\n        <a className=\"story-link\" href={story.url}>\n          {story.title}\n        </a>\n        <small>{hostname}</small>\n        <small className=\"story-author\">by {story.author}</small>\n        <small className=\"story-posted-by\">posted by {story.username}</small>\n      </li>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}